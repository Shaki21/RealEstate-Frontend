import{_ as k,u as q,a as i,o as r,d,e,g as a,v as n,D as v,F as m,E as g,h as V,f as S,i as D,T as F,t as C,x as N,p as I,k as B,I as T}from"./index-6316a9fc.js";import{A as E}from"./AppButton-ccabc9ec.js";import{S as A}from"./sweetalert2.all-4088fd79.js";import{c as L,a as M}from"./countriesService-8858e3ef.js";import{h as R}from"./housesService-c826fc41.js";const l=c=>(I("data-v-4021ed4a"),c=c(),B(),c),W=l(()=>e("div",{class:"img-wrapper"},[e("div",{class:"header__text-box"},[e("h1",{class:"heder-title"},"Advertise your house"),e("p",{class:"subtitle"}," Enter information about your house to advertise it on our site ")])],-1)),$={class:"center-wrapper"},z={class:"form-wrapper"},G={class:"groups"},O={class:"group"},Q=l(()=>e("label",{class:"label"},"Title",-1)),Y={class:"group"},j=l(()=>e("label",{class:"label"},"Number of bedrooms",-1)),J={class:"group"},K=l(()=>e("label",{class:"label"},"Number of bathrooms",-1)),X={class:"group"},Z=l(()=>e("label",{class:"label"},"Quadrature",-1)),ee={class:"group"},te=l(()=>e("label",{class:"label"},"Garden quadrature",-1)),se={class:"group"},oe=l(()=>e("label",{class:"label"},"Floors",-1)),le={class:"group"},ae=l(()=>e("label",{class:"label"},"Country",-1)),ue=l(()=>e("option",{disabled:"",value:"Select country"},"Country",-1)),ne=["value"],ie={class:"group"},re=l(()=>e("label",{class:"label"},"City",-1)),de=l(()=>e("option",{disabled:"",value:"Select city"},"City",-1)),pe=["value"],ce={class:"group"},ve=l(()=>e("label",{class:"label"},"Address",-1)),_e={class:"group"},me=l(()=>e("label",{class:"label"},"Property type",-1)),be=T('<option value="House" data-v-4021ed4a>House</option><option value="Apartment" data-v-4021ed4a>Apartment</option><option value="Villa" data-v-4021ed4a>Villa</option><option value="Workshop" data-v-4021ed4a>Workshop</option><option value="Studio flat" data-v-4021ed4a>Studio flat</option>',5),ye=[be],fe={class:"group"},he=l(()=>e("label",{class:"label"},"Property status",-1)),ge=l(()=>e("option",{value:"For Sell"},"For Sell",-1)),Ve=l(()=>e("option",{value:"For Rent"},"For Rent",-1)),Se=[ge,Ve],Ce={class:"group"},Ne=l(()=>e("label",{class:"label"},"Description of house",-1)),Ae={class:"group"},we=l(()=>e("label",{class:"label"},"Price",-1)),Ue={key:0,class:"error-message"},xe=l(()=>e("br",null,null,-1)),He={__name:"AdvertiseHousePage",setup(c){const w=q(),b=i(!1),U=()=>{A.fire({icon:"success",title:"House advertise successful",text:"You have successfully advertise house!",showConfirmButton:!1,timer:3e3,didOpen:()=>{A.getPopup().style.fontSize="1.8rem"}})},t=i({title:"",price:null,bedroom:null,bathroom:null,quadrature:null,floors:null,garden_quadrature:null,address:"",property_type:"",property_status:"",description:"",cityName:null,countryName:null}),p=i([]),y=i([]),_=i([]),f=i([]),h=i(null);(async()=>{const[{data:u},{data:s}]=await Promise.all([L.getCities(),M.getCountries()]);y.value=u.cities,p.value=s.countries})();const x=u=>{t.value.cityName=null,_.value=!0,f.value=y.value.filter(s=>s.country_id===u)};function H(u){if(u!==null)for(let s=0;s<p.value.length;s++)p.value[s].name===u&&(h.value=p.value[s].id,x(h.value));else _.value=!1,filter.value.cityName=null}const P=async u=>{if(!t.value.title||!t.value.bedroom||!t.value.bathroom||!t.value.quadrature||!t.value.garden_quadrature||!t.value.floors||!t.value.countryName||!t.value.cityName||!t.value.address||!t.value.description||!t.value.price||!t.value.property_type||!t.value.property_status){event.preventDefault(),b.value=!0;return}event.preventDefault();try{await R.createHouse(u),w.push({name:"HousesPage"}),U()}catch(s){console.log(s)}};return(u,s)=>(r(),d(m,null,[W,e("div",$,[e("form",z,[e("div",G,[e("div",O,[Q,a(e("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.title=o)},null,512),[[n,t.value.title]])]),e("div",Y,[j,a(e("input",{class:"input",type:"number",min:"0","onUpdate:modelValue":s[1]||(s[1]=o=>t.value.bedroom=o)},null,512),[[n,t.value.bedroom]])]),e("div",J,[K,a(e("input",{class:"input",type:"number",min:"0","onUpdate:modelValue":s[2]||(s[2]=o=>t.value.bathroom=o)},null,512),[[n,t.value.bathroom]])]),e("div",X,[Z,a(e("input",{class:"input","onUpdate:modelValue":s[3]||(s[3]=o=>t.value.quadrature=o)},null,512),[[n,t.value.quadrature]])]),e("div",ee,[te,a(e("input",{class:"input",type:"number",min:"0","onUpdate:modelValue":s[4]||(s[4]=o=>t.value.garden_quadrature=o)},null,512),[[n,t.value.garden_quadrature]])]),e("div",se,[oe,a(e("input",{class:"input",type:"number",min:"0","onUpdate:modelValue":s[5]||(s[5]=o=>t.value.floors=o)},null,512),[[n,t.value.floors]])]),e("div",le,[ae,a(e("select",{class:"input","onUpdate:modelValue":s[6]||(s[6]=o=>t.value.countryName=o),onChange:s[7]||(s[7]=o=>H(t.value.countryName))},[ue,(r(!0),d(m,null,g(p.value,o=>(r(),d("option",{value:o.name},C(o.name),9,ne))),256))],544),[[v,t.value.countryName]])]),e("div",ie,[re,a(e("select",{class:"input","onUpdate:modelValue":s[8]||(s[8]=o=>t.value.cityName=o)},[de,_.value?(r(!0),d(m,{key:0},g(f.value,o=>(r(),d("option",{value:o.name,key:o.id},C(o.name),9,pe))),128)):V("",!0)],512),[[v,t.value.cityName]])]),e("div",ce,[ve,a(e("input",{class:"input","onUpdate:modelValue":s[9]||(s[9]=o=>t.value.address=o)},null,512),[[n,t.value.address]])]),e("div",_e,[me,a(e("select",{class:"input","onUpdate:modelValue":s[10]||(s[10]=o=>t.value.property_type=o)},ye,512),[[v,t.value.property_type]])]),e("div",fe,[he,a(e("select",{class:"input","onUpdate:modelValue":s[11]||(s[11]=o=>t.value.property_status=o)},Se,512),[[v,t.value.property_status]])]),e("div",Ce,[Ne,a(e("textarea",{class:"input--desc","onUpdate:modelValue":s[12]||(s[12]=o=>t.value.description=o)},null,512),[[n,t.value.description]])]),e("div",Ae,[we,a(e("input",{class:"input",type:"number",min:"0","onUpdate:modelValue":s[13]||(s[13]=o=>t.value.price=o)},null,512),[[n,t.value.price]])])]),S(F,{name:"fade"},{default:D(()=>[b.value?(r(),d("div",Ue,[N(" Please fill in fields. "),xe,N(" All fields must be filled in to continue. ")])):V("",!0)]),_:1}),S(E,{class:"btn-sell",label:"Advertise a house",blue:"",onClick:s[14]||(s[14]=o=>P(t.value))})])])],64))}},Be=k(He,[["__scopeId","data-v-4021ed4a"]]);export{Be as default};
